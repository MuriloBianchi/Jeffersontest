CREATE TABLE TIPOIMOVEL(
	IDTIPOIMOVEL INT PRIMARY KEY NOT NULL,
	DESCRICAO VARCHAR(200) NOT NULL
);

CREATE TABLE LOCADOR(
	IDLOCADOR INT PRIMARY KEY NOT NULL,
	NOME VARCHAR(200) NOT NULL,
	CPFCNPJ VARCHAR(14) NOT NULL
);

CREATE TABLE IMOVEL(
	IDIMOVEL INT PRIMARY KEY NOT NULL,
	DESCRICAO VARCHAR(200) NOT NULL,
	RUA VARCHAR(200) NOT NULL,
	NUMERO VARCHAR(20) NOT NULL,
	BAIRRO VARCHAR(200) NOT NULL,
	VALORALUGUEL NUMERIC NOT NULL,
	TAXAADMINISTRACAO NUMERIC NOT NULL,
	
	IDTIPOIMOVEL INT NOT NULL,
	IDLOCADOR INT NOT NULL,
	CONSTRAINT FK_IMOVEL FOREIGN KEY (IDTIPOIMOVEL) REFERENCES TIPOIMOVEL(IDTIPOIMOVEL),
	CONSTRAINT FK_LOCADOR FOREIGN KEY (IDLOCADOR) REFERENCES LOCADOR(IDLOCADOR)
);

CREATE TABLE LOCATARIO(
	IDLOCATARIO INT PRIMARY KEY NOT NULL,
	NOME VARCHAR(200) NOT NULL,
	CPFCNPJ VARCHAR(14) NOT NULL
);

CREATE TABLE TIPODESCONTO(
	IDTIPODESCONTO INT PRIMARY KEY NOT NULL,
	DESCRICAO VARCHAR(200) NOT NULL
);

CREATE TABLE PARCELADESCONTO(
	IDPARCELADESCONTO INT PRIMARY KEY NOT NULL,
	NROPARCELA INT NOT NULL,
	DATALANCAMENTO DATE NOT NULL,
	VALORDESCONTO NUMERIC NOT NULL,
	DESCRICAO VARCHAR(200) NOT NULL,
	
	IDTIPODESCONTO INT NOT NULL,
	CONSTRAINT FK_IDTIPODESCONTO FOREIGN KEY (IDTIPODESCONTO) REFERENCES TIPODESCONTO(IDTIPODESCONTO)
);

CREATE TABLE PARCELAPAGAR(
	IDPARCELAPAGAR INT PRIMARY KEY NOT NULL,
	DATAVENCIMENTO DATE NOT NULL,
	DATAPAGAMENTO DATE NOT NULL,
	VALORDESCONTOS NUMERIC NOT NULL,
	VALORPAGAR NUMERIC NOT NULL,
	VALORPAGO NUMERIC NOT NULL,
	VALORJUROSMULTA NUMERIC NOT NULL,
	SITUACAO VARCHAR NOT NULL
);

CREATE TABLE PARCELARECEBER(
	NROPARCELA INT PRIMARY KEY NOT NULL,
	DATAVENCIMENTO DATE NOT NULL,
	DATARECEBIMENTO DATE NOT NULL,
	VALORPARCELA NUMERIC NOT NULL,
	VALORRECEBIDO NUMERIC NOT NULL,
	VALORJUOUSMULTA NUMERIC NOT NULL,
	SITUACAO VARCHAR(200) NOT NULL
);

CREATE TABLE CONTRATOLOCACAO(
	IDCONTRATO INT PRIMARY KEY NOT NULL,
	
	DATACONTRATO DATE NOT NULL,
	DATAINICIO DATE NOT NULL,
	DATAFINAL DATE NOT NULL,
	
	MESESCONTRATO INT NOT NULL,
	DIARECEBIMENTO INT NOT NULL,
	DIAPAGAMENTO INT NOT NULL,
	
	VALORTOTALCONTRATO NUMERIC NOT NULL,
	VALORRECEBIDO NUMERIC NOT NULL,
	VALORDESCONTOS NUMERIC NOT NULL,
	VALORPAGO NUMERIC NOT NULL,
	VALORJUROSMULTARECEBIdO NUMERIC NOT NULL,
	VALORJUROSMULTAPAGO NUMERIC NOT NULL,
	
	SALDOCONTRATO NUMERIC NOT NULL,
	
	IDIMOVEL INT NOT NULL,
	IDLOCADOR INT NOT NULL,
	IDLOCATARIO INT NOT NULL,
	NROPARCELA INT NOT NULL,
	IDPARCELAPAGAR INT NOT NULL,
	IDPARCELADESCONTO INT NOT NULL,
	CONSTRAINT FK_IMOVEL FOREIGN KEY (IDIMOVEL) REFERENCES IMOVEL(IDIMOVEL),
	CONSTRAINT FK_IDLOCADOR FOREIGN KEY (IDLOCADOR) REFERENCES LOCADOR(IDLOCADOR),
	CONSTRAINT FK_IDLOCATARIO FOREIGN KEY (IDLOCATARIO) REFERENCES LOCATARIO(IDLOCATARIO),
	CONSTRAINT FK_NROPARCELA FOREIGN KEY (NROPARCELA) REFERENCES PARCELARECEBER(NROPARCELA),
	CONSTRAINT FK_IDPARCELAPAGAR FOREIGN KEY (IDPARCELAPAGAR) REFERENCES PARCELAPAGAR(IDPARCELAPAGAR),
	CONSTRAINT FK_IDPARCELADESCONTO FOREIGN KEY (IDPARCELADESCONTO) REFERENCES PARCELADESCONTO(IDPARCELADESCONTO)
);